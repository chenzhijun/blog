---
title: Rancher 体验
copyright: true
date: 2018-04-18 22:34:13
tags: 
    - Rancher
    - Docker
categories: 
    - 容器
    - Docker
---

# Rancher 体验

Rancher是一个开源的企业级容器管理平台。花了大概3个小时从零到自己搭建一个能运行的服务，真的容易啊。而且文档很丰富，官方还有中文版。哈~，地址：[文档](https://rancher.com/docs/rancher/v1.6/zh/)。

## 安装 Rancher

安装Rancher其实很简单，因为它本身就提供了image，所以只需要在本地安装docker，然后下载镜像，之后再启动就完事了。整个过程非常顺利。唯一一个需要主要的地方是，它需要两台机器。一个作为rancher主节点，一个作为工作节点。所以，如果想体验一下 Rancher 的能力，最好能有两台ip不一样的机器，并且两台都安装了docker，当然也可以用虚拟机。

`docker run -d --name rancher -p 8080:8080 --restart=unless-stopped rancher/server:stable`

安装完 Rancher 之后，需要配置一下主机。Rancher 做了非常棒的国际化，支持中文。��[笑哭.png]

<!--more-->

![2018-04-18-22-49-38](/images/qiniu/2018-04-18-22-49-38.png) 主机的注册地址，一般是rancher主节点的ip地址。

之后选择基础架构->添加主机。

![2018-04-18-22-53-45](/images/qiniu/2018-04-18-22-53-45.png)

只需要将脚本进行拷贝，在运行的另一台安装了docker的主机上执行它，之后就能在主机中看到了：

![2018-04-18-22-55-12](/images/qiniu/2018-04-18-22-55-12.png)

## 应用安装与运行

应用分为`用户应用`和`基础设施应用`。用户应用：

![2018-04-18-22-55-50](/images/qiniu/2018-04-18-22-55-50.png)

基础设施应用：

![2018-04-18-22-58-49](/images/qiniu/2018-04-18-22-58-49.png)

添加应用：

![2018-04-18-22-59-59](/images/qiniu/2018-04-18-22-59-59.png)

应用是一个服务集，应用下可以有很多服务。一个应用下的网段是在一块的，不同应用之间的网络是不能直接连接的。

添加完应用之后就是添加服务：

![2018-04-18-23-04-08](/images/qiniu/2018-04-18-23-04-08.png)

添加完服务之后添加负载均衡：

![2018-04-18-23-04-54](/images/qiniu/2018-04-18-23-04-54.png)

一个发布在rancher中的应用就可以体验了。


## 参考资料

[Rancher 文档](https://rancher.com/docs/rancher/v1.6/zh/)
